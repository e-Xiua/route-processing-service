# Spring Boot Configuration
spring.application.name=route-processing-service

# Server Configuration
server.port=${SERVER_PORT:8086}

# OpenAPI Documentation
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.try-it-out-enabled=true

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when-authorized

# RabbitMQ Configuration
spring.rabbitmq.host=${RABBITMQ_HOST:rabbitmq}
spring.rabbitmq.port=${RABBITMQ_PORT:5672}
spring.rabbitmq.username=${RABBITMQ_USERNAME:user}
spring.rabbitmq.password=${RABBITMQ_PASSWORD:user}

# Logging Configuration
logging.level.com.exiua.processing=INFO
logging.level.org.springframework.web=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# CORS Configuration
cors.allowed-origins[0]=${CORS_ORIGIN_1:http://localhost:4200}
cors.allowed-origins[1]=${CORS_ORIGIN_2:http://localhost:3000}
cors.allowed-origins[2]=${CORS_ORIGIN_3:http://localhost:8085}

# gRPC Python MRL-AMIS Service Configuration
grpc.python-mrl-amis.host=${GRPC_PYTHON_HOST:mrl_amis_python_service}
grpc.python-mrl-amis.port=${GRPC_PYTHON_PORT:50051}
grpc.python-mrl-amis.connection-timeout-seconds=${GRPC_CONNECTION_TIMEOUT:30}
# INCREASED: 600 seconds (10 min) -> 1200 seconds (20 min) to handle MRL-AMIS ~18 min execution
grpc.python-mrl-amis.request-timeout-seconds=${GRPC_REQUEST_TIMEOUT:1200}
grpc.python-mrl-amis.max-retry-attempts=${GRPC_MAX_RETRIES:3}
# INCREASED: Polling interval from 5s to 10s to reduce overhead
grpc.python-mrl-amis.polling-interval-seconds=${GRPC_POLLING_INTERVAL:10}
# INCREASED: Max polling attempts to match new timeout (1200s / 10s = 120 attempts)
grpc.python-mrl-amis.polling-max-attempts=${GRPC_POLLING_MAX_ATTEMPTS:120}
grpc.python-mrl-amis.enable-tls=false

# Processing Configuration
processing.max-concurrent-requests=${MAX_CONCURRENT_REQUESTS:5}
processing.temp-data-directory=/tmp/route-processing
processing.cleanup-after-hours=${CLEANUP_HOURS:2}
